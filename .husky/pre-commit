#!/bin/sh

echo "ğŸ” Running pre-commit checks..."

# Run PHP tests (Pest)
echo "ğŸ§ª Running Pest tests..."
./vendor/bin/pest
if [ $? -ne 0 ]; then
    echo "âŒ Pest tests failed. Please fix the issues before committing."
    exit 1
fi

# Run JavaScript/TypeScript tests (Vitest)
echo "ğŸ§ª Running Vitest tests..."
npx vitest run --color
if [ $? -ne 0 ]; then
    echo "âŒ Vitest tests failed. Please fix the issues before committing."
    exit 1
fi

echo "âœ… All tests passed!"